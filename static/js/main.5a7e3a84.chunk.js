(this["webpackJsonppink-virus-puzzle"]=this["webpackJsonppink-virus-puzzle"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},178:function(e,t,a){"use strict";a.r(t);var n,i=a(12),r=a(0),c=a(7),l=a.n(c),u=(a(100),a(56)),s=a(84);function f(e){return Array(e).fill(0).map((function(e,t){return t}))}!function(e){e[e.BLANK=0]="BLANK",e[e.BRICK=1]="BRICK",e[e.BLOCK=2]="BLOCK",e[e.LADDER=3]="LADDER",e[e.ROPE=4]="ROPE",e[e.EXIT=5]="EXIT",e[e.JEWEL=6]="JEWEL",e[e.CHARA=7]="CHARA"}(n||(n={}));var o;function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12;console.assert(e.length===a*t);var n=f(t).map((function(t){return f(a).map((function(n){return parseInt(e[t*a+n])}))}));return{field:n,width:a,height:t}}function b(e,t){return{x:e.x+[1,0,-1,0][t],y:e.y+[0,1,0,-1][t]}}function h(e,t){return e.value[t.y][t.x]}function d(e,t,a){e.value[t.y][t.x]=a}function g(e,t){return 0<=t.x&&t.x<e.width&&0<=t.y&&t.y<e.height}function v(e,t){return g(e,t)&&![n.BRICK,n.BLOCK].includes(h(e,t))}function B(e,t){var a=b(t,o.DOWN);return!([n.LADDER,n.ROPE,n.EXIT].includes(h(e,t))||!g(e,a)||[n.BRICK,n.BLOCK,n.LADDER,n.EXIT].includes(h(e,a)))}function R(e){return f(e.height).flatMap((function(t){return f(e.width).map((function(a){var n={x:a,y:t};return{point:n,tile:h(e,n)}}))}))}!function(e){e[e.RIGHT=0]="RIGHT",e[e.DOWN=1]="DOWN",e[e.LEFT=2]="LEFT",e[e.UP=3]="UP"}(o||(o={}));function O(e){return JSON.parse(JSON.stringify(e))}function w(e){var t=e.field,a=e.chara,i=e.exit;h(t,a)===n.JEWEL&&d(t,a,n.BLANK),h(t,a)===n.EXIT&&(e.beated=!0),0===R(t).filter((function(e){return e.tile===n.JEWEL})).length&&d(t,i,n.EXIT)}function E(e){var t=e.width,a=e.height,i=e.field.map((function(e){return Object(s.a)(e)})),r={x:0,y:0},c={x:0,y:0};return f(a).forEach((function(e){f(t).forEach((function(t){switch(i[e][t]){case n.CHARA:i[e][t]=n.BLANK,r={x:t,y:e};break;case n.EXIT:i[e][t]=n.BRICK,c={x:t,y:e}}}))})),{level:e,field:{value:i,width:t,height:a},chara:r,exit:c,queue:[],beated:!1}}function j(e,t){if(e.beated||t===o.UP&&h(e.field,e.chara)!==n.LADDER)return e;var a=b(e.chara,t);if(!v(e.field,a))return e;var i=O(e);for(i.chara=a,w(i);B(i.field,i.chara);)i.chara=b(i.chara,o.DOWN),w(i);return i}function D(e,t){if(e.beated)return e;var a,i,r=b(b(e.chara,o.DOWN),t);if(!g(a=e.field,i=r)||h(a,i)!==n.BRICK||!v(a,b(i,o.UP)))return e;var c=O(e);if(d(c.field,r,n.BLANK),c.queue.push(r),c.queue.length>5){var l=c.queue.shift();h(c.field,l)===n.BLANK&&d(c.field,l,n.BRICK)}return c}a(101);var y,x=a(20),P=(y={},Object(x.a)(y,n.BLANK,{x:6,y:5}),Object(x.a)(y,n.BRICK,{x:4,y:0}),Object(x.a)(y,n.BLOCK,{x:3,y:0}),Object(x.a)(y,n.LADDER,{x:5,y:4}),Object(x.a)(y,n.ROPE,{x:6,y:2}),Object(x.a)(y,n.EXIT,{x:3,y:3}),Object(x.a)(y,n.JEWEL,{x:4,y:3}),Object(x.a)(y,n.CHARA,{x:1,y:7}),y);function p(e,t,a,n){var i=a.x,r=a.y,c=P[n],l=c.x,u=c.y;e.drawImage(t,16*l+.25,16*u+.25,15.75,15.75,48*i,48*r,48,48)}function I(e){var t=Object(r.useRef)(null),a=Object(r.useRef)(function(){var e=new Image;return e.src="data:image/png;base64,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",e}());return Object(r.useEffect)((function(){var i=t.current;if(i){i.focus();var r=i.getContext("2d");r.fillStyle="#0f0f3e",r.fillRect(0,0,e.width,e.height);var c=a.current,l=e.gameModel,u=l.field,s=l.chara,f=l.beated;return R(u).filter((function(e){return e.tile!==n.BLANK})).forEach((function(e){var t=e.point,a=e.tile;p(r,c,t,a)})),f||p(r,c,s,n.CHARA),function(){return r.clearRect(0,0,e.width,e.height)}}})),Object(i.jsx)("canvas",{ref:t,width:e.width,height:e.height,tabIndex:e.tabIndex,onKeyDown:e.onKeyDown})}var m=[{label:"classic-beginner1",data:"044444400000006000030000000000030700011110031111010610030000011210034000000000000300004000000300000600000300000100000310001110000310051111000316"},{label:"classic-beginner2",data:"000000000000000000000007111112111111111116111111111111111111000000600000000000000000111113122222111113111111006003144444444443100006000000000005"},{label:"classic-beginner3",data:"064444000070030003003030034403043030000003003000000603403000000006003000000003003400004403406000000003003000000003003400000043043000500000000000"},{label:"classic-beginner4",data:"000000000000444400000000300000070000300212121212300060000060340000000000003111111111003111111111003111161111003000100001613000000001503003100001"},{label:"classic-intermediate1",data:"000000000000000000700000000061111111311111111111321221211116304440611113110001111113010001110003001011112222000100161111000100044445000100000001"},{label:"classic-intermediate2",data:"000007000000101111111035131060111031131111122031131211000031131163132031131111131031131131136031131111161031136113111031111161301031000000110030"},{label:"classic-intermediate3",data:"000007000000000022200000000000000000000000000000004444404030613000016230013000002030013000000030013000000030613002613030122222222222000000000005"},{label:"classic-advanced1",data:"000000000700000002311111311131131111311131111111311131111111311131000611311601132212311000032200351220100202300001613262311111203202300000003000"},{label:"classic-advanced2",data:"000000000000000444420000073232620000212230000000060032121300220500000230001300000030444060606030600000000030000022222030000000000316222222222222"},{label:"classic-advanced3",data:"000000000000031111153000031110710300031111110300030060600300030000000300030606060300030000000300030000000300030000000300031220222213061000000013"},{label:"classic-german1",data:"040440007000101001111231101111111231161161100031101111060231101111111231101111111231101111111231101116111231000000000030101111111131111111100035"},{label:"classic-german2",data:"000000000000444374430000600321030000444316100310000011000316444444311110600000311110012222211111100000000005110000000311111000003111222222222222"},{label:"classic-german3",data:"000000004440000000003000000000003000000000003000304040403000310101010060301616100000344404047000300010101000300000000000300000400000300000016105"},{label:"classic-german4",data:"000000000000000000000000000000000000000000007000322222202222300000000005301111111111301111111111301212121212300000000000300262626262310000000000"},{label:"sample-pillar",data:"000000000000000007000000000003500000000003100000000003100000000003100000000003130000000000130000000003130000000003100000000003130000000006130000"}],S=a(213),K=a(214),L=a(211),N=a(216),C=a(210),X=a(80),H=a.n(X),T=m[0].data;var W=function(){var e=Object(r.useState)(T),t=Object(u.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(T),l=Object(u.a)(c,2),s=l[0],f=l[1],b=Object(r.useState)(E(A(T))),h=Object(u.a)(b,2),d=h[0],g=h[1];function v(e){var t=E(A(e));g(t)}return Object(i.jsxs)(S.a,{className:"App",children:[Object(i.jsx)(S.a,{style:{textAlign:"left"},children:Object(i.jsx)(H.a,{children:'\n# Pink Virus Puzzle\n\u304b\u3064\u3066\u30d1\u30ba\u30eb\u30b2\u30fc\u30e0\u30b5\u30a4\u30c8[\u307c\u3089\uff31](https://web.archive.org/web/20060116224359/http://boraq.hp.infoseek.co.jp/main.htm)\u306b\u63b2\u8f09\u3055\u308c\u3066\u3044\u305f\u30d1\u30ba\u30eb\u30b2\u30fc\u30e0 Pink Virus \u306e\u30af\u30ed\u30fc\u30f3\u3067\u3059\u3002\n\n## \u30eb\u30fc\u30eb\n\u9375\u3092\u5168\u90e8\u96c6\u3081\u3066\u51fa\u53e3\u3092\u76ee\u6307\u3057\u307e\u3057\u3087\u3046\u3002\n- \u4e3b\u4eba\u516c\u306f\u4e0a\u4e0b\u5de6\u53f3\u306b\u79fb\u52d5\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n  - \u4e3b\u4eba\u516c\u306f\u91cd\u529b\u306e\u5f71\u97ff\u3092\u53d7\u3051\u307e\u3059\uff1a\u79fb\u52d5\u5f8c\u3001\u4ee5\u4e0b\u306e\u3044\u305a\u308c\u304b\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3059\u307e\u3067\u843d\u4e0b\u3057\u307e\u3059\u3002\n    1. \u4e3b\u4eba\u516c\u306e\u3044\u308b\u30de\u30b9\u306b\u30cf\u30b7\u30b4\u304b\u30ed\u30fc\u30d7\u304c\u5b58\u5728\u3059\u308b\u3002\n    2. \u4e3b\u4eba\u516c\u306e\u4e0b\u306e\u30de\u30b9\u306b\u8db3\u5834\uff08\u30ec\u30f3\u30ac\u30fb\u30d6\u30ed\u30c3\u30af\u30fb\u30cf\u30b7\u30b4\u30fb\u5e8a\uff09\u304c\u5b58\u5728\u3059\u308b\u3002\n  - \u30ec\u30f3\u30ac\u3068\u30d6\u30ed\u30c3\u30af\u306e\u3042\u308b\u30de\u30b9\u306f\u901a\u904e\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\n  - \u4e0a\u65b9\u5411\u3078\u306e\u79fb\u52d5\u306f\u30cf\u30b7\u30b4\u306e\u3042\u308b\u30de\u30b9\u3067\u306e\u307f\u53ef\u80fd\u3067\u3059\u3002\n- \u4e3b\u4eba\u516c\u306f\u81ea\u5206\u306e\u5de6\u4e0b\u30fb\u53f3\u4e0b\u306b\u3042\u308b\u30ec\u30f3\u30ac\u3092\u7834\u58ca\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n  - \u5bfe\u8c61\u306e\u30ec\u30f3\u30ac\u306e\u4e0a\u306b\u4ed6\u306e\u30ec\u30f3\u30ac\u3084\u30d6\u30ed\u30c3\u30af\u304c\u3042\u308b\u5834\u5408\u306f\u7834\u58ca\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\n  - \u540c\u6642\u306b\u7834\u58ca\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u30ec\u30f3\u30ac\u306f5\u500b\u307e\u3067\u3067\u3059\u30026\u500b\u3081\u306e\u30ec\u30f3\u30ac\u3092\u7834\u58ca\u3059\u308b\u3068\u6700\u521d\u306b\u7834\u58ca\u3057\u305f\u30ec\u30f3\u30ac\u304c\u5fa9\u6d3b\u3057\u307e\u3059\u3002\n  - \u4e3b\u4eba\u516c\u304c\u5fa9\u6d3b\u3057\u305f\u30ec\u30f3\u30ac\u306b\u57cb\u307e\u3063\u3066\u3057\u307e\u3063\u305f\u5834\u5408\u306f\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u3067\u3059\u3002\n\n## \u64cd\u4f5c\u65b9\u6cd5\n- \u2190/\u2191/\u2192/\u2193: \u79fb\u52d5\n- Z/X: \u5de6\u4e0b\u30fb\u53f3\u4e0b\u306e\u30ec\u30f3\u30ac\u3092\u58ca\u3059\n- R: \u30ea\u30b9\u30bf\u30fc\u30c8\n\n## \u4f7f\u7528\u7d20\u6750\n- "[Oubliette Tileset](https://safwyl.itch.io/oubliette-tileset)" by [safwyl](https://safwyl.itch.io/) (licensed under [CC BY 4.0](https://creativecommons.org/licenses/by/4.0/))\n\n'})}),Object(i.jsx)(I,{tabIndex:0,onKeyDown:function(e){switch(e.key){case"ArrowDown":g(j(d,o.DOWN));break;case"ArrowLeft":g(j(d,o.LEFT));break;case"ArrowRight":g(j(d,o.RIGHT));break;case"ArrowUp":g(j(d,o.UP));break;case"z":g(D(d,o.LEFT));break;case"x":g(D(d,o.RIGHT));break;case"r":g(E(d.level))}e.preventDefault()},gameModel:d,width:576,height:576}),Object(i.jsx)(K.a,{value:s,rows:3,onChange:function(e){f(e.target.value)},multiline:!0,variant:"outlined",style:{width:480}}),Object(i.jsx)(S.a,{children:Object(i.jsx)(L.a,{variant:"outlined",value:a,onChange:function(e){var t=e.target.value;f(t),n(t),v(t)},style:{width:320},children:m.map((function(e){var t=e.label,a=e.data;return Object(i.jsx)(N.a,{value:a,children:t},t)}))})}),Object(i.jsx)(S.a,{children:Object(i.jsx)(C.a,{onClick:function(){v(s)},variant:"contained",children:"Refresh"})})]})},k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,218)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),i(e),r(e),c(e)}))};l.a.render(Object(i.jsx)(W,{}),document.getElementById("root")),k()}},[[178,1,2]]]);
//# sourceMappingURL=main.5a7e3a84.chunk.js.map